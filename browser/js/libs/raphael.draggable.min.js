(function(){function i(a){for(var c="circle,rect,ellipse,image,text,path".split(","),b=0;b<c.length;b++)j(a,c[b])}function j(a,c){a[c]=function(b){return function(){var c=b.apply(a,arguments);c.draggable=new d(c);return c}}(a[c])}function l(a){a.set=function(c){return function(){var b=c.apply(a,arguments);b.paper=a;b.draggable=new DraggableSetExtension(b);m(b);return b}}(a.set)}function m(a){a.push=function(c){return function(){c.apply(a,arguments);for(var b=0,k=arguments.length;b<k;b++){var e=arguments[b];
if(e.draggable)e.draggable.parent=a,a.draggable.enabled&&e.draggable.enable()}}}(a.push)}Raphael.fn.draggable={};Raphael.fn.draggable.enable=function(){var a=this,c;a.draggable.enabled=!0;a.draggable.current=function(b){return b?(c=b,a):c};a.draggable.clearCurrent=function(){c=null;return a};i(a);l(a);return a};var f,g,h={enable:function(){this.enabled=!0;return this.element},disable:function(){this.enabled=!1;return this.element}},d=function(a){function c(){document.onmousemove=function(a){if(b.draggable.current()){var c=
a.clientX-f,d=a.clientY-g;b.draggable.current().translate(c,d);f=a.clientX;g=a.clientY}}}var b=a.paper;this.element=a;this.enabled=!1;a.mousedown(function(d){if(!b.draggable.current()&&a.draggable.enabled)b.draggable.current(a.draggable.parent||a),f=d.clientX,g=d.clientY,c()});document.onmouseup=function(){document.onmousemove=null;b.draggable.clearCurrent()}};d.prototype=h;DraggableSetExtension=function(a){this.element=a};DraggableSetExtension.prototype=h})();
